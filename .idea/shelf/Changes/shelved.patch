Index: main.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import requests\r\nfrom pathlib import Path\r\nfrom datetime import datetime\r\n\r\nAPPID = \"cf3125640bfec6ccb4f76e30231735c5\"\r\nURL_BASE = \"http://api.openweathermap.org/data/2.5/onecall?\"\r\n\r\n\r\ndef get_forecast(lat: float = 57.09, lon: float = 65.32,\r\n                 appid: str = APPID, lang: str = \"ru\",\r\n                 units: str = \"metric\", exclude: str = \"hourly\") -> dict:\r\n    return requests.get(URL_BASE, params=locals()).json()\r\n\r\n\r\n\r\n\r\n\r\ndef get_pogoda(pogoda):\r\n    daily_pogoda = pogoda.get('daily')\r\n    day_forecast = {}\r\n    for day in daily_pogoda:\r\n        day_time = str(datetime.fromtimestamp(day['dt']))\r\n        day_forecast[f'{day_time[:10]}'] = [\r\n            f'Погода утром {int(day[\"temp\"][\"morn\"])}',\r\n            f'Погода днём {int(day[\"temp\"][\"day\"])}',\r\n            f'Погода вечером {int(day[\"temp\"][\"eve\"])}',\r\n            f'Погода ночью {int(day[\"temp\"][\"night\"])}',\r\n            f'Влажность {int(day[\"humidity\"])}%',\r\n            f'Ветер(Метрологические градусы) {day[\"wind_deg\"]}',\r\n            f'Скорость ветра м/с {day[\"wind_speed\"]}',\r\n            f'Небо {day[\"weather\"][0][\"description\"]}',\r\n        ]\r\n\r\n    return day_forecast\r\n\r\n\r\n\r\n\r\n\r\ndef set_file_forecast(forestcast):\r\n    for element in forestcast.keys():\r\n        file_name = Path(f'day_forestcast/{element}.txt')\r\n        file_name.touch()\r\n\r\n\r\ndef set_info_in_file_forecast(pogoda):\r\n    for txt_file in Path('day_forestcast').glob(\"*.txt\"):\r\n        if txt_file.with_suffix('').name in pogoda.keys():\r\n            stroka = ' '.join(pogoda.get(txt_file.with_suffix('').name))\r\n            txt_file.write_text(stroka)\r\n\r\n\r\nset_file_forecast(get_pogoda(get_forecast()))\r\npogoda = get_pogoda(get_forecast())\r\nset_info_in_file_forecast(pogoda)
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/main.py b/main.py
--- a/main.py	(revision 7e2b719d500fdaf882f6207d207f529d94fe1bbb)
+++ b/main.py	(date 1650646548861)
@@ -12,9 +12,6 @@
     return requests.get(URL_BASE, params=locals()).json()
 
 
-
-
-
 def get_pogoda(pogoda):
     daily_pogoda = pogoda.get('daily')
     day_forecast = {}
@@ -34,9 +31,6 @@
     return day_forecast
 
 
-
-
-
 def set_file_forecast(forestcast):
     for element in forestcast.keys():
         file_name = Path(f'day_forestcast/{element}.txt')
@@ -52,4 +46,4 @@
 
 set_file_forecast(get_pogoda(get_forecast()))
 pogoda = get_pogoda(get_forecast())
-set_info_in_file_forecast(pogoda)
\ No newline at end of file
+set_info_in_file_forecast(pogoda)
